
<div class="row">
  <div class="col-xs-12 col-sm-9">
    <div class="row">

      <div id="grid" class="my-shuffle-container">

        <% @nav_groups.each do |group| %>
          <% group.apps.each do |app| %>
            <% app.links.each do |link| %>
              <div class="grid__brick col-xs-6 col-sm-4">
                <div class="grid__brick-inner">
                  <div class="table-center-wrap">
    <%=
      link_to(
        link.url.to_s,
        class: "thumbnail app",
        data: {
          toggle: "popover",
          content: manifest_markdown(link.description),
          html: true,
          trigger: "hover",
          title: link.title,
          container: "body"
        },
        target: link.new_tab? ? "_blank" : nil,
      ) do
    %>
      <div class="center-block" style="text-align: center">
        <%= icon_tag(link.icon_uri) %>
        <%= content_tag(:p, link.title) %>
        <%#
          content_tag(
            :p,
            content_tag(:span, link.caption),
            class: "text-muted"
          ) if link.caption
        %>
      </div>
    <% end %>
                  </div>
                </div>
              </div>
           <% end %>
          <% end %>
        <% end %>

        <div class="col-xs-1 my-sizer-element"></div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Shuffle/5.2.2/shuffle.min.js" integrity="sha256-e2I7pth4FqNfTrtHtwgZiTLITcUeXXLBRjmyUmlomcA=" crossorigin="anonymous"></script>

<script>
window.shuffleInstance = new window.Shuffle(document.getElementById('grid'), {
  itemSelector: '.grid__brick',
  sizer: '.my-sizer-element',
});
</script>

