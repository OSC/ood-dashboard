<%# Random port from 10000 - 65535 deterministically generated %>
<% localport = Digest::MD5.hexdigest("#{connect.host}:#{connect.port}").to_i(16) % 55535 + 10000 %>

<% if browser.platform == :windows %>

  <%=
      t(  'dashboard.bc.sessions.native.windows.instructions',
          link_tag: link_to(
            "osc://:#{connect.password}@#{connect.host}:#{connect.port}",
            "osc://:#{connect.password}@#{connect.host}:#{connect.port}",
            onclick: "$.get('" + analytics_path(type: "launch_osc_connect") + "');"
          )
        ).html_safe
  %>
  
  <%= t('dashboard.bc.sessions.native.windows.support').html_safe %>

<% elsif browser.platform == :mac %>

  <%=
    t(  'dashboard.bc.sessions.native.mac',
        localport: localport,
        host: connect.host,
        host_port: connect.port,
        username: ENV["USER"],
        password: connect.password
      ).html_safe
  %>

<% elsif browser.platform == :linux %>

  <%=
    t(  'dashboard.bc.sessions.native.linux',
        localport: localport,
        host: connect.host,
        host_port: connect.port,
        username: ENV["USER"],
        password: connect.password
      ).html_safe
  %>
  
<% else %>

  <%= t('dashboard.bc.sessions.native.unsupported').html_safe %>

<% end %>
